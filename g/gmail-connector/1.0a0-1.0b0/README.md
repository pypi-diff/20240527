# Comparing `tmp/gmail_connector-1.0a0-py3-none-any.whl.zip` & `tmp/gmail_connector-1.0b0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,20 @@
-Zip file size: 21835 bytes, number of entries: 18
--rw-r--r--  2.0 unx      612 b- defN 23-Oct-26 15:40 gmailconnector/__init__.py
--rw-r--r--  2.0 unx     8039 b- defN 23-Oct-26 15:40 gmailconnector/read_email.py
--rw-r--r--  2.0 unx    10291 b- defN 23-Oct-26 15:40 gmailconnector/send_email.py
--rw-r--r--  2.0 unx     7133 b- defN 23-Oct-26 15:40 gmailconnector/send_sms.py
--rw-r--r--  2.0 unx     3370 b- defN 23-Oct-26 15:40 gmailconnector/sms_deleter.py
--rw-r--r--  2.0 unx       88 b- defN 23-Oct-26 15:40 gmailconnector/lib/requirements.txt
--rw-r--r--  2.0 unx     1918 b- defN 23-Oct-26 15:40 gmailconnector/models/config.py
--rw-r--r--  2.0 unx     1508 b- defN 23-Oct-26 15:40 gmailconnector/models/options.py
--rw-r--r--  2.0 unx     2447 b- defN 23-Oct-26 15:40 gmailconnector/models/responder.py
--rw-r--r--  2.0 unx     1216 b- defN 23-Oct-26 15:40 gmailconnector/validator/address.py
--rw-r--r--  2.0 unx     1857 b- defN 23-Oct-26 15:40 gmailconnector/validator/domain.py
--rw-r--r--  2.0 unx      388 b- defN 23-Oct-26 15:40 gmailconnector/validator/exceptions.py
--rw-r--r--  2.0 unx     4547 b- defN 23-Oct-26 15:40 gmailconnector/validator/validate_email.py
--rw-r--r--  2.0 unx     1078 b- defN 23-Oct-26 15:41 gmail_connector-1.0a0.dist-info/LICENSE
--rw-r--r--  2.0 unx    12477 b- defN 23-Oct-26 15:41 gmail_connector-1.0a0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Oct-26 15:41 gmail_connector-1.0a0.dist-info/WHEEL
--rw-r--r--  2.0 unx       15 b- defN 23-Oct-26 15:41 gmail_connector-1.0a0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1583 b- defN 23-Oct-26 15:41 gmail_connector-1.0a0.dist-info/RECORD
-18 files, 58659 bytes uncompressed, 19211 bytes compressed:  67.2%
+Zip file size: 22087 bytes, number of entries: 18
+-rw-r--r--  2.0 unx      612 b- defN 23-Oct-26 17:38 gmailconnector/__init__.py
+-rw-r--r--  2.0 unx     9200 b- defN 23-Oct-26 17:38 gmailconnector/read_email.py
+-rw-r--r--  2.0 unx    10291 b- defN 23-Oct-26 17:38 gmailconnector/send_email.py
+-rw-r--r--  2.0 unx     7133 b- defN 23-Oct-26 17:38 gmailconnector/send_sms.py
+-rw-r--r--  2.0 unx     3370 b- defN 23-Oct-26 17:38 gmailconnector/sms_deleter.py
+-rw-r--r--  2.0 unx       88 b- defN 23-Oct-26 17:38 gmailconnector/lib/requirements.txt
+-rw-r--r--  2.0 unx     1918 b- defN 23-Oct-26 17:38 gmailconnector/models/config.py
+-rw-r--r--  2.0 unx     1508 b- defN 23-Oct-26 17:38 gmailconnector/models/options.py
+-rw-r--r--  2.0 unx     2447 b- defN 23-Oct-26 17:38 gmailconnector/models/responder.py
+-rw-r--r--  2.0 unx     1216 b- defN 23-Oct-26 17:38 gmailconnector/validator/address.py
+-rw-r--r--  2.0 unx     1857 b- defN 23-Oct-26 17:38 gmailconnector/validator/domain.py
+-rw-r--r--  2.0 unx      388 b- defN 23-Oct-26 17:38 gmailconnector/validator/exceptions.py
+-rw-r--r--  2.0 unx     4547 b- defN 23-Oct-26 17:38 gmailconnector/validator/validate_email.py
+-rw-r--r--  2.0 unx     1078 b- defN 23-Oct-26 17:39 gmail_connector-1.0b0.dist-info/LICENSE
+-rw-r--r--  2.0 unx    12477 b- defN 23-Oct-26 17:39 gmail_connector-1.0b0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Oct-26 17:39 gmail_connector-1.0b0.dist-info/WHEEL
+-rw-r--r--  2.0 unx       15 b- defN 23-Oct-26 17:39 gmail_connector-1.0b0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1583 b- defN 23-Oct-26 17:39 gmail_connector-1.0b0.dist-info/RECORD
+18 files, 59820 bytes uncompressed, 19463 bytes compressed:  67.5%
```

## zipnote {}

```diff
@@ -33,23 +33,23 @@
 
 Filename: gmailconnector/validator/exceptions.py
 Comment: 
 
 Filename: gmailconnector/validator/validate_email.py
 Comment: 
 
-Filename: gmail_connector-1.0a0.dist-info/LICENSE
+Filename: gmail_connector-1.0b0.dist-info/LICENSE
 Comment: 
 
-Filename: gmail_connector-1.0a0.dist-info/METADATA
+Filename: gmail_connector-1.0b0.dist-info/METADATA
 Comment: 
 
-Filename: gmail_connector-1.0a0.dist-info/WHEEL
+Filename: gmail_connector-1.0b0.dist-info/WHEEL
 Comment: 
 
-Filename: gmail_connector-1.0a0.dist-info/top_level.txt
+Filename: gmail_connector-1.0b0.dist-info/top_level.txt
 Comment: 
 
-Filename: gmail_connector-1.0a0.dist-info/RECORD
+Filename: gmail_connector-1.0b0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## gmailconnector/__init__.py

```diff
@@ -7,8 +7,8 @@
 from .read_email import ReadEmail  # noqa: F401
 from .send_email import SendEmail  # noqa: F401
 from .send_sms import SendSMS  # noqa: F401
 from .sms_deleter import DeleteSent  # noqa: F401
 from .validator.address import EmailAddress  # noqa: F401
 from .validator.validate_email import validate_email  # noqa: F401
 
-version = "1.0a"
+version = "1.0b"
```

## gmailconnector/read_email.py

```diff
@@ -1,13 +1,17 @@
+import base64
+import binascii
 import email
 import imaplib
 import socket
+import warnings
 from collections.abc import Generator
 from datetime import datetime, timedelta, timezone
 from email.header import decode_header, make_header
+from email.message import Message
 from typing import Iterable, Union
 
 import pytz
 from typing_extensions import Unpack
 
 from .models.config import IngressConfig
 from .models.options import Category, Condition
@@ -171,15 +175,37 @@
             receive = local_time
         if original_email.get_content_type() == "text/plain":  # ignore attachments and html
             body = original_email.get_payload(decode=True)
             body = body.decode('utf-8')
         else:
             body = ""
             for payload in original_email.get_payload():
-                body += payload.as_string()
+                if isinstance(payload, Message):
+                    body += payload.as_string()
+                elif isinstance(payload, str):
+                    body += payload
+                elif isinstance(payload, bytes):
+                    try:
+                        decoded = base64.b64decode(payload)
+                    except binascii.Error:
+                        try:
+                            decoded = payload.decode()  # encoding is unknown at this point so default to UTF-8
+                        except UnicodeDecodeError:
+                            warnings.warn(
+                                "Unknown encoding type for payload"
+                            )
+                            continue
+                    body += decoded
+                else:
+                    warnings.warn(
+                        f"Unsupported payload type: {type(payload)}"
+                    )
+        if len(from_) == 1:
+            return Email(dictionary=dict(sender=None, sender_email=from_[0].lstrip('<').rstrip('>'),
+                                         subject=sub, date_time=receive, body=body))
         return Email(dictionary=dict(sender=from_[0], sender_email=from_[1].rstrip('>'),
                                      subject=sub, date_time=receive, body=body))
 
     def read_mail(self, messages: list or str, humanize_datetime: bool = False) -> Generator[Email]:
         """Yield emails matching the filters' criteria.
 
         Args:
```

## Comparing `gmail_connector-1.0a0.dist-info/LICENSE` & `gmail_connector-1.0b0.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `gmail_connector-1.0a0.dist-info/METADATA` & `gmail_connector-1.0b0.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: gmail-connector
-Version: 1.0a0
+Version: 1.0b0
 Summary: Python module to, send SMS, emails and read emails
 Author-email: Vignesh Sivanandha Rao <svignesh1793@gmail.com>
 License: MIT License
         
         Copyright (c) 2020 Vignesh Sivanandha Rao
         
         Permission is hereby granted, free of charge, to any person obtaining a copy
```

## Comparing `gmail_connector-1.0a0.dist-info/RECORD` & `gmail_connector-1.0b0.dist-info/RECORD`

 * *Files 18% similar despite different names*

```diff
@@ -1,18 +1,18 @@
-gmailconnector/__init__.py,sha256=X2NrxjsDFOCcdFtQdiRcNCtb3qIJwbTch4aluEPyXYg,612
-gmailconnector/read_email.py,sha256=Nvqp4Fr-cvmyX7RYxiJEAhInWwLAZOCCq1HPaMaGozw,8039
+gmailconnector/__init__.py,sha256=pU3YHAetfHqH65SyNpTY0gh86f-E_w9y6G73_UrPMAk,612
+gmailconnector/read_email.py,sha256=gTyeCkNOe8mwGIOlao8LIRTCiTsmzevrhsOd_ujNLRA,9200
 gmailconnector/send_email.py,sha256=YEh3QpNX3mYIY4kKjrupPddcv0QWrf2SSEDX85dpPbg,10291
 gmailconnector/send_sms.py,sha256=3pDXcd20cqlMvhdb11hrOk16y9wN3fs1d6VuHic5lp8,7133
 gmailconnector/sms_deleter.py,sha256=mu7RR6nG0DlDa-7sN7NnMc27cyRZH4EbQ3mhF16a-3g,3370
 gmailconnector/lib/requirements.txt,sha256=DFFRrk5FbHaqzWrMvX9qrsuwtDWI7rLEzhR3n5dOY_k,88
 gmailconnector/models/config.py,sha256=nFSIX3zBvGnemkHuVAFPdjIHDoefyTWnMK8vd9SRolw,1918
 gmailconnector/models/options.py,sha256=HkZn6RIWjORWH-lEOT8wb1XfGYcqK4I-CsjCfMwNW7w,1508
 gmailconnector/models/responder.py,sha256=IANWXaa_HgeJyZsE65o_gyrfswZPq4j335Uy3dM6iKc,2447
 gmailconnector/validator/address.py,sha256=ABOmumFNMpKx5i72akH2hyKY7vr-w0eSW24A0_WvKEs,1216
 gmailconnector/validator/domain.py,sha256=wSuENA36XInshN0fHBUQBtOTwJgkNxl9gh-sgbRnjd0,1857
 gmailconnector/validator/exceptions.py,sha256=F1ZJl3lcPRDv7u4jU-HI-FxVVSQr-kdT5BYMrUwLDZY,388
 gmailconnector/validator/validate_email.py,sha256=AmatbWBBm3lwQsEGLU3i9wbz5SXTpTYGNCaxz_RoS4A,4547
-gmail_connector-1.0a0.dist-info/LICENSE,sha256=khwb-_X88C6Va_FZB_sJgB-xukCrEvkq8C3P_IGzysE,1078
-gmail_connector-1.0a0.dist-info/METADATA,sha256=bbc3S-s658Fb2ROs17N3Ax5yeYlLE1ffUOQxiTS0Qu4,12477
-gmail_connector-1.0a0.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
-gmail_connector-1.0a0.dist-info/top_level.txt,sha256=ynqP0P1TpwMeBhYpBGK8jkEhjpa4AQylvdQiTZgPL2w,15
-gmail_connector-1.0a0.dist-info/RECORD,,
+gmail_connector-1.0b0.dist-info/LICENSE,sha256=khwb-_X88C6Va_FZB_sJgB-xukCrEvkq8C3P_IGzysE,1078
+gmail_connector-1.0b0.dist-info/METADATA,sha256=ScJGyB7yFQld4Sf6gLjCjLcPpPuJtbyQdR2qNHuslr8,12477
+gmail_connector-1.0b0.dist-info/WHEEL,sha256=yQN5g4mg4AybRjkgi-9yy4iQEFibGQmlz78Pik5Or-A,92
+gmail_connector-1.0b0.dist-info/top_level.txt,sha256=ynqP0P1TpwMeBhYpBGK8jkEhjpa4AQylvdQiTZgPL2w,15
+gmail_connector-1.0b0.dist-info/RECORD,,
```

