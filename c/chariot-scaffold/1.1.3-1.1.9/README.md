# Comparing `tmp/chariot_scaffold-1.1.3-py3-none-any.whl.zip` & `tmp/chariot_scaffold-1.1.9-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,24 +1,24 @@
-Zip file size: 49706 bytes, number of entries: 22
--rw-rw-rw-  2.0 fat      390 b- defN 24-Mar-22 03:13 chariot_scaffold/__init__.py
--rw-rw-rw-  2.0 fat     3197 b- defN 23-Dec-29 07:46 chariot_scaffold/cli.py
--rw-rw-rw-  2.0 fat      656 b- defN 24-Jan-03 04:15 chariot_scaffold/exceptions.py
--rw-rw-rw-  2.0 fat     1592 b- defN 23-Dec-29 07:46 chariot_scaffold/journal.py
--rw-rw-rw-  2.0 fat     2628 b- defN 24-Feb-27 03:21 chariot_scaffold/runtime.py
--rw-rw-rw-  2.0 fat    46266 b- defN 24-Feb-27 03:21 chariot_scaffold/tools.py
--rw-rw-rw-  2.0 fat        0 b- defN 23-Sep-20 13:22 chariot_scaffold/api_server/__init__.py
--rw-rw-rw-  2.0 fat     3214 b- defN 24-Feb-27 02:37 chariot_scaffold/api_server/action_router.py
--rw-rw-rw-  2.0 fat     2835 b- defN 24-Jan-20 05:24 chariot_scaffold/api_server/app.py
--rw-rw-rw-  2.0 fat        0 b- defN 23-Sep-13 10:07 chariot_scaffold/core/__init__.py
--rw-rw-rw-  2.0 fat     7102 b- defN 24-Mar-22 02:37 chariot_scaffold/core/base.py
--rw-rw-rw-  2.0 fat     2319 b- defN 24-Mar-21 07:29 chariot_scaffold/core/config.py
--rw-rw-rw-  2.0 fat     9716 b- defN 24-Mar-21 07:14 chariot_scaffold/core/plugin.py
--rw-rw-rw-  2.0 fat        0 b- defN 23-Sep-19 07:28 chariot_scaffold/schema/__init__.py
--rw-rw-rw-  2.0 fat     1324 b- defN 24-Feb-27 03:21 chariot_scaffold/schema/alarm_model.py
--rw-rw-rw-  2.0 fat     2857 b- defN 24-Jan-03 02:11 chariot_scaffold/schema/base.py
--rw-rw-rw-  2.0 fat      868 b- defN 24-Jan-02 07:49 chariot_scaffold/schema/config_model.py
--rw-rw-rw-  2.0 fat      927 b- defN 24-Mar-22 03:14 chariot_scaffold-1.1.3.dist-info/METADATA
--rw-rw-rw-  2.0 fat       92 b- defN 24-Mar-22 03:14 chariot_scaffold-1.1.3.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       63 b- defN 24-Mar-22 03:14 chariot_scaffold-1.1.3.dist-info/entry_points.txt
--rw-rw-rw-  2.0 fat       17 b- defN 24-Mar-22 03:14 chariot_scaffold-1.1.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     1939 b- defN 24-Mar-22 03:14 chariot_scaffold-1.1.3.dist-info/RECORD
-22 files, 88002 bytes uncompressed, 46498 bytes compressed:  47.2%
+Zip file size: 50676 bytes, number of entries: 22
+-rw-rw-rw-  2.0 fat      422 b- defN 24-May-26 05:07 chariot_scaffold/__init__.py
+-rw-rw-rw-  2.0 fat     3197 b- defN 23-Dec-06 07:00 chariot_scaffold/cli.py
+-rw-rw-rw-  2.0 fat      656 b- defN 24-Jan-05 02:41 chariot_scaffold/exceptions.py
+-rw-rw-rw-  2.0 fat     1714 b- defN 24-May-21 14:21 chariot_scaffold/journal.py
+-rw-rw-rw-  2.0 fat     2628 b- defN 24-Jan-26 04:44 chariot_scaffold/runtime.py
+-rw-rw-rw-  2.0 fat    46266 b- defN 24-Jan-26 05:33 chariot_scaffold/tools.py
+-rw-rw-rw-  2.0 fat        0 b- defN 23-Sep-24 10:20 chariot_scaffold/api_server/__init__.py
+-rw-rw-rw-  2.0 fat     3427 b- defN 24-May-26 05:07 chariot_scaffold/api_server/action_router.py
+-rw-rw-rw-  2.0 fat     2835 b- defN 24-Jan-24 05:23 chariot_scaffold/api_server/app.py
+-rw-rw-rw-  2.0 fat        0 b- defN 23-Aug-11 06:52 chariot_scaffold/core/__init__.py
+-rw-rw-rw-  2.0 fat     7881 b- defN 24-May-26 05:07 chariot_scaffold/core/base.py
+-rw-rw-rw-  2.0 fat     3205 b- defN 24-May-21 12:12 chariot_scaffold/core/config.py
+-rw-rw-rw-  2.0 fat    10429 b- defN 24-May-17 14:19 chariot_scaffold/core/plugin.py
+-rw-rw-rw-  2.0 fat        0 b- defN 23-Nov-03 02:22 chariot_scaffold/schema/__init__.py
+-rw-rw-rw-  2.0 fat     1324 b- defN 24-Jan-26 05:05 chariot_scaffold/schema/alarm_model.py
+-rw-rw-rw-  2.0 fat     2857 b- defN 24-Jan-05 02:41 chariot_scaffold/schema/base.py
+-rw-rw-rw-  2.0 fat      882 b- defN 24-May-14 12:28 chariot_scaffold/schema/config_model.py
+-rw-rw-rw-  2.0 fat     1010 b- defN 24-May-27 02:52 chariot_scaffold-1.1.9.dist-info/METADATA
+-rw-rw-rw-  2.0 fat       92 b- defN 24-May-27 02:52 chariot_scaffold-1.1.9.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       64 b- defN 24-May-27 02:52 chariot_scaffold-1.1.9.dist-info/entry_points.txt
+-rw-rw-rw-  2.0 fat       17 b- defN 24-May-27 02:52 chariot_scaffold-1.1.9.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     1941 b- defN 24-May-27 02:52 chariot_scaffold-1.1.9.dist-info/RECORD
+22 files, 90847 bytes uncompressed, 47468 bytes compressed:  47.7%
```

## zipnote {}

```diff
@@ -45,23 +45,23 @@
 
 Filename: chariot_scaffold/schema/base.py
 Comment: 
 
 Filename: chariot_scaffold/schema/config_model.py
 Comment: 
 
-Filename: chariot_scaffold-1.1.3.dist-info/METADATA
+Filename: chariot_scaffold-1.1.9.dist-info/METADATA
 Comment: 
 
-Filename: chariot_scaffold-1.1.3.dist-info/WHEEL
+Filename: chariot_scaffold-1.1.9.dist-info/WHEEL
 Comment: 
 
-Filename: chariot_scaffold-1.1.3.dist-info/entry_points.txt
+Filename: chariot_scaffold-1.1.9.dist-info/entry_points.txt
 Comment: 
 
-Filename: chariot_scaffold-1.1.3.dist-info/top_level.txt
+Filename: chariot_scaffold-1.1.9.dist-info/top_level.txt
 Comment: 
 
-Filename: chariot_scaffold-1.1.3.dist-info/RECORD
+Filename: chariot_scaffold-1.1.9.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## chariot_scaffold/__init__.py

```diff
@@ -2,12 +2,12 @@
 from chariot_scaffold.core.config import PluginSpecYaml, DataMapping
 from typing import Annotated
 import os
 
 
 project_path = os.path.abspath("./")
 log = logger(fmt=logger_fmt, save_path=os.path.join(project_path, "plugin.log"))
-lang = "zh-CN"
-version ="1.1.3"
+# lang = "zh-CN"    废弃， 使用Lang替代
+version ="1.1.9"
 plugin_spec = PluginSpecYaml()
 data_mapping = DataMapping()
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## chariot_scaffold/journal.py

```diff
@@ -3,17 +3,18 @@
 from colorlog import ColoredFormatter
 
 logger_fmt = "%(log_color)s%(levelname)-6s%(reset)s| %(bold_blue)s%(asctime)s <%(module)s> %(funcName)s:%(lineno)s %(reset)s-> %(log_color)s%(message)s" # noqa
 default_fmt = "%(log_color)s%(levelname)-5s%(reset)s| %(bold_blue)s%(asctime)s %(filename)s:%(funcName)s %(lineno)s%(reset)s-> %(log_color)s%(message)s"  # noqa
 
 
 def logger(
-        name=__file__,
-        save_path=None,
-        fmt= default_fmt # noqa
+        name = __file__,
+        save_path = None,
+        fmt = default_fmt, # noqa,
+        console = True,
 ) -> logging.Logger:
     formatter = ColoredFormatter(   # debug上控制台去看去
         fmt,
         datefmt="%Y-%m-%d %H:%M:%S",
         reset=True,
         log_colors={
             'DEBUG': 'bold_cyan',
@@ -31,18 +32,23 @@
         datefmt="%Y-%m-%d %H:%M:%S",
         reset=True,
         style='%',
         no_color=True
     )
 
     log = logging.getLogger(name)
+
+    if log.hasHandlers():
+        log.handlers.clear()
     log.setLevel(logging.DEBUG)
-    console_handler = logging.StreamHandler(sys.stdout)
-    console_handler.setFormatter(formatter)
-    log.addHandler(console_handler)
+
+    if console:
+        console_handler = logging.StreamHandler(sys.stdout)
+        console_handler.setFormatter(formatter)
+        log.addHandler(console_handler)
 
     if save_path:
         file_handler = logging.FileHandler(save_path, encoding='utf8')
         file_handler.setFormatter(file_formatter)
         file_handler.setLevel(logging.INFO)
         log.addHandler(file_handler)
     return log
```

## chariot_scaffold/api_server/action_router.py

```diff
@@ -43,14 +43,18 @@
 
 
 action_router = APIRouter()
 plugin_spec = PluginSpecYaml()
 plugin_spec.deserializer()
 action_task_manager = ActionTasks()
 
+# 为了持久化连接器, 降低会话开销, 全局加载插件.
+module = importlib.import_module(plugin_spec.entrypoint)
+pack = module.__getattribute__(plugin_spec.module)()
+
 
 @action_router.post("/actions/{action_name}", response_model=ActionOutputModel, name="执行动作")
 async def actions(action_name: str, plugin_stdin: StdinModel):
     """
     执行一个动作并将运行结果返回
     """
     # log.info(f"获取初始化参数, {plugin_stdin}")
@@ -60,16 +64,16 @@
     if plugin_stdin.tid:
         action_task_manager.expired_check()
         if not action_task_manager.create_task(plugin_stdin.tid, action_name):
             tid_output = action_task_manager.verify_multi_ident_tid(plugin_stdin.tid)
             return tid_output
 
     # import module
-    module = importlib.import_module(plugin_spec.entrypoint)
-    pack = module.__getattribute__(plugin_spec.module)()
+    # module = importlib.import_module(plugin_spec.entrypoint)
+    # pack = module.__getattribute__(plugin_spec.module)()
 
     # connection
     if plugin_stdin.body.connection:
         pack.connection(**plugin_stdin.body.connection)
 
     # action running
     res = pack.__getattribute__(action_name)(**plugin_stdin.body.input)
@@ -83,14 +87,15 @@
             output.body.output = res
 
     # multi identical tid check
     if plugin_stdin.tid:
         action_task_manager.task_done(plugin_stdin.tid, output)
 
     clean_logs()
+    pack.after_closing()
     return output
 
 
 @action_router.get("/manager/tasks", name="** 查看任务")
 def manager_action_tasks():
     """
     查看当前插件执行过多少任务
```

## chariot_scaffold/core/base.py

```diff
@@ -1,9 +1,10 @@
 import abc
 from chariot_scaffold import data_mapping, log
+from chariot_scaffold.core.config import Lang
 
 
 class Base(metaclass=abc.ABCMeta):
     def __init__(self, title=None, description=None, model=None):
         self.__vars_name = None
         self.__defaults = None
         self.__comments = None
@@ -115,33 +116,46 @@
         绑定title和description
         """
         for i in self.__params_name:
             if i != "self":
                 anno = self.__annotations.get(i)
                 if "Annotated" in str(anno):
                     assert len(anno.__metadata__) == 2, "既然决定用Annotated了,那就把title, description都写了吧"
-                    self.input[i]["title"] = anno.__metadata__[0]
-                    self.input[i]["description"] =  anno.__metadata__[1]
+
+                    # 兼容过去默认绑定中文的插件, 引用Lang一键管理语言和值的关系
+                    self.input[i]["title"] =        self.lang_checking(anno.__metadata__[0])
+                    self.input[i]["description"] =  self.lang_checking(anno.__metadata__[1])
+
                 else:
-                    self.input[i]["title"] = i
-                    self.input[i]["description"] = None
+                    self.input[i]["title"] = self.lang_checking(i)
+                    self.input[i]["description"] = self.lang_checking(i)
+
+
 
     def bind_output(self):
         """
         绑定output
         """
         output_type = self.__annotations.get("return")
 
         if output_type:
             # 返回值注解绑定
             if type(output_type) is dict:
                 for k, v in output_type.items():
                     assert type(v).__name__ == "_AnnotatedAlias", "请使用Annotated作为返回值的注解"
                     assert len(v.__metadata__) == 2, "既然决定用Annotated了,那就把title, description都写了吧"
-                    self.output[k] = {"title": v.__metadata__[0], "description": v.__metadata__[1], "type": self.match_datatype(v.__origin__)}
+
+                    # 兼容过去默认绑定中文的插件, 引用Lang一键管理语言和值的关系
+                    output = {
+                        "title": self.lang_checking(v.__metadata__[0]),
+                        "description": self.lang_checking(v.__metadata__[1]),
+                        "type": self.match_datatype(v.__origin__)
+                    }
+                    self.output[k] = output
+
             else:
                 # 返回值默认绑定
                 self.output["output"] = {}
                 self.output["output"]["type"] = self.match_datatype(output_type)
                 # self.output["output"]["required"] = True
 
     def check_model(self, kwargs):
@@ -171,10 +185,17 @@
             if self.__params_name[i] != "self":
                 mapping[self.__params_name[i]] = args[i]
 
         # 最后合并kwargs
         mapping.update(kwargs)
         return mapping
 
+    @staticmethod
+    def lang_checking(param):    # 兼容过去默认绑定中文的插件
+        if isinstance(param, str):
+            return {"zh-CN": param}
+        elif isinstance(param, Lang):
+            return param.convert()
+
     @abc.abstractmethod
     def hook(self):
         ...
```

## chariot_scaffold/core/config.py

```diff
@@ -1,13 +1,34 @@
 import json
 import yaml
 import typing
 from chariot_scaffold.schema.config_model import PluginSpecYamlModel
 
 
+class Lang:
+    def __init__(self, *arg, **kwargs):
+        """
+            Lang(1,2,lang=["zh-CN", "en"])
+            Lang(1,2,lang=["zh-CN", "en"])
+            arg应对lang中语言类型的两种写法, 可以只写一个, 默认中文
+        """
+        self.lang = kwargs.get("lang")
+        if not self.lang:
+            self.lang = ["zh-CN", "en"]
+        self.arg = arg
+        assert arg, "请传入正确的参数"
+        assert len(self.lang) >= len(self.arg), "请按顺序传参"
+
+    def convert(self):
+        data = {i:None for i in self.lang}
+        for i in range(len(self.arg)):
+            data.update({self.lang[i]: self.arg[i]})
+        return  data
+
+
 class PluginSpecYaml(PluginSpecYamlModel):
     def __init__(self, **kwargs):
         super().__init__(**kwargs)
 
     def __str__(self):
         return self.model_dump()
 
@@ -33,14 +54,15 @@
             "<built-in function any>": Datatypes.generic,
             "list[str]": Datatypes.array_str,
             "list[dict]": Datatypes.array_obj,
             "dist[str]": Datatypes.object_,
             "dist[int]": Datatypes.object_,
             "dist[float]": Datatypes.object_,
             "dist[list]": Datatypes.object_,
+            "list[int]": Datatypes.array_int,
         }
 
     def __getitem__(self, item):
         return self.__data_mapping.get(item, "any")
 
     def __setitem__(self, key, value):
         self.__data_mapping[key] = value
@@ -58,11 +80,14 @@
     integer = typing.NewType("integer", int)
     float_ = typing.NewType("float", float)
     boolean = typing.NewType("boolean", bool)
     string = typing.NewType("string", str)
     generic = typing.NewType("any", str)
     array_str = typing.NewType("[]string", list[str])
     array_obj = typing.NewType("[]object", list[dict])
+    array_int = typing.NewType("[]integer", list[int])
     text = typing.NewType("text", str)
     password = typing.NewType("password", str)
     date = typing.NewType("date", str)
     file = typing.NewType("file", dict)
+    code = typing.NewType("code", str)
+    python = typing.NewType("python", str)
```

### encoding

```diff
@@ -1 +1 @@
-us-ascii
+utf-8
```

## chariot_scaffold/core/plugin.py

```diff
@@ -2,76 +2,91 @@
 import sys
 import abc
 import json
 import yaml
 import requests
 
 from chariot_scaffold.core.base import Base
-from chariot_scaffold import plugin_spec, lang
+from chariot_scaffold.core.config import Lang
+from chariot_scaffold import plugin_spec
 from chariot_scaffold.tools import generate_file
 from chariot_scaffold.exceptions import TriggerError, PackError
 from chariot_scaffold.tools import generate_online_pack, generate_offline_pack
 
 
 requests.packages.urllib3.disable_warnings() # noqa
-
+lang = "test"
 
 class Connection(Base):
     def __init__(self, model=None):
         """
         连接器
         :param model: 强类型校验
         """
         super().__init__(model=model)
 
     def hook(self):
         connection = {}
         for k, v in self.input.items():
-            connection[k] = {"title": {lang: v["title"]}, "description": {lang: v["description"]}, "type": v["type"]}
+            connection[k] = {"title": v["title"], "description": v["description"], "type": v["type"]}
 
             if v["required"]:
                 connection[k]["required"] = v["required"]
             if v["default"] is not None:
                 connection[k]["default"] = v["default"]
             if v.get("enum"):
-                connection[self._func_name]["input"][k]["enum"] = v["enum"]
+                connection[k]["enum"] = v["enum"]
+
         plugin_spec.connection = connection
 
 
 class Action(Base):
     def __init__(self, title=None, description=None, model=None): # noqa
         """
         动作
         :param title: 名称
         :param description: 描述
         :param model: 强类型校验
         """
         super().__init__(title, description, model)
 
     def hook(self):
-        actions = {self._func_name: {"title": {lang: self.title} , "description": {lang: self.description}, "input": {}, "output":{}}}
+        actions = {
+            self._func_name: {
+                "title": self.lang_checking(self.title),
+                "description": self.lang_checking(self.description),
+                "input": {}, "output":{}}
+        }
 
         for k, v in self.input.items():
-            actions[self._func_name]["input"][k] = {"title": {lang: v["title"]}, "description": {lang: v["description"]}, "type": v["type"]}
+            actions[self._func_name]["input"][k] = {"title": v["title"], "description":  v["description"], "type": v["type"]}
 
             if v["required"]:
                 actions[self._func_name]["input"][k]["required"] = v["required"]
             if v["default"] is not None:
                 actions[self._func_name]["input"][k]["default"] = v["default"]
             if v.get("enum"):
                 actions[self._func_name]["input"][k]["enum"] = v["enum"]
 
 
         if not self.output.get("output"):
             # 返回值注解绑定
             for k, v in self.output.items():
-                actions[self._func_name]["output"][k] = {"title": {lang: v["title"]}, "description": {lang: v["description"]}, "type": v["type"]}
+                actions[self._func_name]["output"][k] = {
+                    "title": v["title"],
+                    "description": v["description"],
+                    "type": v["type"]
+                }
         else:
             # 默认返回值绑定
-            actions[self._func_name]["output"]["output"] = {"title": {lang: "输出"}, "description": {lang: "输出"}, "type": self.output["output"]["type"]}
+            actions[self._func_name]["output"]["output"] = {
+                "title": Lang("输出", "output").convert(),
+                "description": Lang("系统默认输出", "System Default Output").convert(),
+                "type": self.output["output"]["type"]
+            }
 
         plugin_spec.actions.update(actions)
 
 
 class Trigger(Base):
     def __init__(self, title=None, description=None, model=None, trigger_type="alarm_receivers"):   # noqa
         """
@@ -85,19 +100,26 @@
         if trigger_type not in trigger_types:
             raise TriggerError("请传入一个正确的触发器类型")
 
         self.trigger_type = trigger_type
         super().__init__(title, description, model)
 
     def hook(self):
-        trigger = {self._func_name: {"title": {lang: self.title} , "description": {lang: self.description},
-                                            "input": {}}}
+        trigger = {
+            self._func_name: {
+                "title": self.lang_checking(self.title),
+                "description": self.lang_checking(self.description),
+                "input": {}}
+        }
         for k, v in self.input.items():
-            trigger[self._func_name]["input"][k] = {"title": {lang: v["title"]},
-                                                            "description": {lang: v["description"]}, "type": v["type"]}
+            trigger[self._func_name]["input"][k] = {
+                "title": v["title"],
+                "description": v["description"],
+                "type": v["type"]
+            }
 
             if v["required"]:
                 trigger[self._func_name]["input"][k]["required"] = v["required"]
             if v["default"] is not None:
                 trigger[self._func_name]["input"][k]["default"] = v["default"]
             if v.get("enum"):
                 trigger[self._func_name]["input"][k]["enum"] = v["enum"]
@@ -136,17 +158,24 @@
             raise TriggerError("调用失败")
         return response.json()
 
 
 class Pack(metaclass=abc.ABCMeta):
     def __init__(self):
         self.create_trigger_extend()
+        self.before_startup()
 
     @abc.abstractmethod
-    def connection(self, *args, **kwargs):  # 该裹的裹脚布一个也少不了
+    def connection(self, *args, **kwargs):
+        ...
+
+    def before_startup(self):
+        ...
+
+    def after_closing(self):
         ...
 
     @classmethod
     def plugin_config_init(cls, name, title=None, description=None, version=None, tags: list| None =None, vendor="chariot"):
         """
         初始化参数配置
         :param name: 插件id, 以字母、下划线方式命名, 例如chariot_plugin. 请勿使用特殊字符
@@ -156,21 +185,28 @@
         :param tags:    插件标签, 为了方便在插件社区里搜索
         :param vendor:  作者
         :return:
         """
         plugin_spec.entrypoint = os.path.split(os.path.abspath(sys.modules[cls.__module__].__file__))[-1].replace('.py', '')
 
         plugin_spec.module= cls.__name__
-        plugin_spec.title =  title if title else cls.__name__
+        plugin_spec.title =  cls.lang_checking(title) if title else cls.lang_checking(cls.__name__)
         plugin_spec.version =  version if version else "0.1.0"
-        plugin_spec.description = description
+        plugin_spec.description = cls.lang_checking(description)
         plugin_spec.name = name
         plugin_spec.tags = tags if tags else []
         plugin_spec.vendor = vendor # 作者
 
+    @staticmethod
+    def lang_checking(param):    # 兼容过去默认绑定中文的插件
+        if isinstance(param, str):
+            return {"zh-CN": param}
+        elif isinstance(param, Lang):
+            return param.convert()
+
     @classmethod
     def generate_online_pack(cls, path=None):
         file_path = os.path.abspath(sys.modules[cls.__module__].__file__) if path is None else path
         assert os.path.exists(file_path), FileNotFoundError("目录不存在")
         generate_online_pack(file_path, plugin_spec.name, plugin_spec.vendor, plugin_spec.version)
 
     @classmethod
@@ -239,8 +275,8 @@
         return ""
 
     @webhook_url.setter
     def webhook_url(self, url):
         self.webhook_url = url
 
     def __repr__(self):
-        return plugin_spec.json(ensure_ascii=False)
+        return plugin_spec.model_dump_json()
```

## chariot_scaffold/schema/config_model.py

```diff
@@ -3,16 +3,16 @@
 
 class PluginSpecYamlModel(BaseModel):
     plugin_spec_version:  Annotated[str, ""] = "v2"
     extension: Annotated[str, "plugin"] = "plugin"
     entrypoint: Annotated[str, "程序入口"] = None
     module: Annotated[str, "模块名称"] = None
     name: Annotated[str, "插件id, 唯一id"] = None
-    title: Annotated[str, "插件名称"] = None
-    description: Annotated[str, "插件描述"] = None
+    title: Annotated[str | dict, "插件名称"] = None
+    description: Annotated[str | dict, "插件描述"] = None
     version: Annotated[str, "插件版本"] = "0.1.0"
     vendor: Annotated[str, "插件作者"] = "chariot"
     tags: Annotated[list, "插件标签"] = []
     connection: Annotated[dict, "插件连接器"] = {}
     actions: Annotated[dict, "插件动作"] = {}
     alarm_receivers: Annotated[dict, "告警接收器"] = {}
     asset_receivers: Annotated[dict, "资产接收器"] = {}
```

## Comparing `chariot_scaffold-1.1.3.dist-info/RECORD` & `chariot_scaffold-1.1.9.dist-info/RECORD`

 * *Files 11% similar despite different names*

```diff
@@ -1,22 +1,22 @@
-chariot_scaffold/__init__.py,sha256=Knz3UowJ4vmIcn9-jXkDHfGHH4JcaY_9h10Lc9-q7dA,390
+chariot_scaffold/__init__.py,sha256=l5TPdOok1osZFkufIgbD5s9XstH8ibVH3Ew5zpO0Le8,422
 chariot_scaffold/cli.py,sha256=dxv-pd9mUhBMdVq8EhXdw9Vh0axQdvbtRFSDdBCXt4c,3197
 chariot_scaffold/exceptions.py,sha256=Sg_0in0LyJTrOIEF6Dska37sbRuflRYr8l1jVLyzbcY,656
-chariot_scaffold/journal.py,sha256=vlUSlQDa8JGeBfeKkQ0dlyhm7XYiAH5J4V4LN68C41s,1592
+chariot_scaffold/journal.py,sha256=a_ZM-mm8Nr9zBrj1KdEuOYo17xoxhwbSM-IRr0iVZoM,1714
 chariot_scaffold/runtime.py,sha256=KGGXaPYnJoUeWMZ3zg8s5iugxJOJmNPVCG7GaicldOY,2628
 chariot_scaffold/tools.py,sha256=MnjKSarqhXCj9q31ZQ6q5HPyxLMmSxHJBecTTTj-3-g,46266
 chariot_scaffold/api_server/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-chariot_scaffold/api_server/action_router.py,sha256=bUHH4EsMh6sJ0FhdwNvHWej3wDsh7iVOrgxFA4kEe34,3214
+chariot_scaffold/api_server/action_router.py,sha256=Nc06mFS4Hb5cmN8L7Kr7sPfrlU3q7XNnppPxkaDcVFk,3427
 chariot_scaffold/api_server/app.py,sha256=BRPowipA12n3DmN-g3kWVquDd_U-_Ige59PGXkyEC7o,2835
 chariot_scaffold/core/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-chariot_scaffold/core/base.py,sha256=e2GeERYm5gUC3ktTt50oov7m_LrCBW6U1Q0Y79JR_uo,7102
-chariot_scaffold/core/config.py,sha256=TvVeKbt1wKATQXuGwRIaEF2Yf-5H08jgBCEzgyv-5Fg,2319
-chariot_scaffold/core/plugin.py,sha256=3bZyZ0fe9w4hLamNNl9nz2W4v2b1CfH4Vt1MrwX_oTU,9716
+chariot_scaffold/core/base.py,sha256=0O47C1UJJOYPGFr6NbYSgn4bUr1_UoH7xEobxED1wVE,7881
+chariot_scaffold/core/config.py,sha256=oNeCWPz0NprhhW9nB3ISlxKWNOyhUh6HfLDZxrRVktU,3205
+chariot_scaffold/core/plugin.py,sha256=w3tAtsdF5tgk25-3eJYdT6kXV3yVJiHeGXdMm_9Ic1k,10429
 chariot_scaffold/schema/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 chariot_scaffold/schema/alarm_model.py,sha256=R58ONv0nIZr1wjo_LCj03tZizCUkpz7Tvq1xbjppqSU,1324
 chariot_scaffold/schema/base.py,sha256=WDO7SwumA_45ZWw7s058mewDsTc2MCuPjIyGlCklBYI,2857
-chariot_scaffold/schema/config_model.py,sha256=dUpWrzc7Db_FXEagXW2Ia2izy51hx4wnaWef_Mvy_As,868
-chariot_scaffold-1.1.3.dist-info/METADATA,sha256=-E_2hRSjGtdYmwpC_lwxr3dAtTEmRER6s3q_Gyh3YFM,927
-chariot_scaffold-1.1.3.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-chariot_scaffold-1.1.3.dist-info/entry_points.txt,sha256=mC78oFLXvjXlopaVkpRDi_rM5G6kFVt-rTV5yr7alko,63
-chariot_scaffold-1.1.3.dist-info/top_level.txt,sha256=qLfl-_PPbwXGwvSSNYLrPO0VhAC7QdJjtvHc_b0yC8Y,17
-chariot_scaffold-1.1.3.dist-info/RECORD,,
+chariot_scaffold/schema/config_model.py,sha256=kv2-uaLcOBy8HhjY1iUNDeTLcbxBNmMhIysLLgvDoS0,882
+chariot_scaffold-1.1.9.dist-info/METADATA,sha256=pqpdBhxOh7og5I5q5I3lxTSVXdXRta9fkZTTJ4xVOJM,1010
+chariot_scaffold-1.1.9.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+chariot_scaffold-1.1.9.dist-info/entry_points.txt,sha256=Ze2W73rlZeXaos4hSMoZDMgTXjbGOI2qjURAHIdSCMs,64
+chariot_scaffold-1.1.9.dist-info/top_level.txt,sha256=qLfl-_PPbwXGwvSSNYLrPO0VhAC7QdJjtvHc_b0yC8Y,17
+chariot_scaffold-1.1.9.dist-info/RECORD,,
```

